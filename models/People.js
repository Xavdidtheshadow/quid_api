var mongoose = require('mongoose');

var PersonSchema = new mongoose.Schema({
  // _id, generated by mongo
  name: {type: String, reqiured: true},
  email: String,
  
  // server side email validaion
  // email: {type: String, match: [/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/, 'Invalid Email']},

  certifications: {
    ar: {type: Boolean, default: false},
    sr: {type: Boolean, default: false},
    hr: {type: Boolean, default: false},
  },

  // primary/current team is always first
  teams: {type: [{type: mongoose.Schema.Types.ObjectId, ref: "Team"}], default: []},
  requests: {type: [{type: mongoose.Schema.Types.ObjectId, ref: "Team"}], default: []}
});

mongoose.model('Person', PersonSchema);